{% extends 'emails/base.html' %}
{% block content %}
  <p class="greeting">Bonjour {{ resident_name|default:"R√©sident" }},</p>

  {% if intro_text %}
    <p class="intro-text">{{ intro_text }}</p>
  {% else %}
    <p class="intro-text">Vous avez re√ßu une nouvelle notification importante concernant votre copropri√©t√©.</p>
  {% endif %}

  <div class="info-section">
    {% if notification_type %}
    <div class="info-item">
      <span class="info-icon">üè∑Ô∏è</span>
      <span class="info-label">Type :</span>
      <span class="info-value">{{ notification_type }}</span>
    </div>
    {% endif %}
    
    {% if priority %}
    <div class="info-item">
      <span class="info-icon">‚ö°</span>
      <span class="info-label">Priorit√© :</span>
      <span class="info-value">{{ priority }}</span>
    </div>
    {% endif %}
    
    {% if amount %}
    <!-- Section montant en √©vidence -->
    <div class="amount-highlight">
      <div class="amount-label">Montant d√ª</div>
      <div class="amount-value">
        {{ amount|floatformat:2 }}<span class="amount-currency">DH</span>
      </div>
    </div>
    {% endif %}
    
    {% if date %}
    <div class="info-item">
      <span class="info-icon">üìÖ</span>
      <span class="info-label">Date :</span>
      <span class="info-value">{{ date }}</span>
    </div>
    {% endif %}
    
    {% if message %}
    <div class="info-item" style="flex-direction: column; align-items: flex-start;">
      <div style="display: flex; align-items: center; width: 100%; margin-bottom: 8px;">
        <span class="info-icon">üìù</span>
        <span class="info-label">Message :</span>
      </div>
      <span class="info-value" style="margin-left: 48px; line-height: 1.8;">{{ message }}</span>
    </div>
    {% endif %}
  </div>

  <!-- Bouton d'acc√®s au dashboard r√©sident -->
  <div class="cta-section">
    {% if link %}
    <a href="{{ link }}" target="_blank" rel="noopener" class="cta-button" style="margin-right: 12px;">Acc√©der au document</a>
    {% endif %}
    <a href="{{ dashboard_url|default:'http://127.0.0.1:8000/resident-dashboard/' }}" target="_blank" rel="noopener" class="cta-button" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%); box-shadow: 0 8px 24px rgba(16, 185, 129, 0.4);">
      Acc√©der √† mon espace
    </a>
  </div>

  <div style="margin-top: 48px; padding-top: 32px; border-top: 2px solid #f3f4f6;">
    <p style="font-size: 16px; color: #4b5563; line-height: 1.8; margin: 0 0 12px 0;">
      Cordialement,
    </p>
    <p style="font-size: 16px; color: #1f2937; line-height: 1.8; margin: 0; font-weight: 700;">
      L'√©quipe {{ app_name|default:"SyndicPro" }}
    </p>
  </div>
{% endblock %}
